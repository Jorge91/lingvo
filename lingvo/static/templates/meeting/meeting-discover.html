<div ng-controller="DiscoverMeetingCtrl">

    <section ng-show="!locationEnabled" layout="row" layout-sm="column" layout-align="center center" layout-wrap>
        <md-button class="md-raised md-primary" ng-click="activeLocation()">
            Enable geolocation
            <md-tooltip>
                Geolocation is needed to search meetings
            </md-tooltip>
        </md-button>
    </section>
    <md-slider-container ng-show="locationEnabled">
        <md-slider flex ng-model="radius" min="0" max="10000" aria-label="blue" id="blue-slider"
                   ng-model-options="{debounce: 500}" class="md-primary">
        </md-slider>
    </md-slider-container>
    <ng-map zoom="12" center="[0,0]">
        <shape id="circle" name="circle" centered="true"
               stroke-color='#FF0000' stroke-opacity="0.8" stroke-weight="2"
               center="current-position" radius="{{ radius }}" editable="false"
        ></shape>
    </ng-map>
    </section>

    <md-list flex>
        <md-subheader class="md-no-sticky">Near meetings</md-subheader>
        <md-list-item class="md-3-line" ng-repeat="item in meetings" ng-click="null">
            <div class="md-list-item-text" layout="column" ng-click="goToMeetingDetail(item.id)">
                <h3>{{ item.properties.title }}</h3>
                <h4>{{ item.properties.attendances.length }} people going</h4>
                <p>{{ item.properties.time | date:'yyyy-MM-dd HH:mm' }}</p>
                <p>{{ item.properties.distance | number : 0 }} m. </p>
            </div>
            <md-divider></md-divider>
        </md-list-item>

    </md-list>

</div>